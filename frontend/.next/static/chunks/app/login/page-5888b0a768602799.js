(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{5695:(e,t,a)=>{"use strict";var r=a(8999);a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})},7406:(e,t,a)=>{Promise.resolve().then(a.bind(a,9690))},9690:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var r=a(5155),s=a(2115),n=a(5695);function o(){let[e,t]=(0,s.useState)({username:"",password:""}),[a,o]=(0,s.useState)(!1),[l,u]=(0,s.useState)(""),d=(0,n.useRouter)(),i=a=>{t({...e,[a.target.name]:a.target.value})},c=async t=>{t.preventDefault(),o(!0),u("");try{let t=await fetch("http://localhost:3001/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let e=await t.json();throw Error(e.message||"Erro ao fazer login.")}let a=await t.json();localStorage.setItem("token",a.access_token),alert("Login realizado com sucesso!"),d.push("/documents")}catch(e){u(e.message)}finally{o(!1)}};return(0,r.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gray-900 px-4",children:(0,r.jsxs)("form",{onSubmit:c,className:"bg-gray-800 p-6 rounded shadow-md w-full max-w-sm",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-4 text-white text-center",children:"Login"}),(0,r.jsx)("input",{type:"text",name:"username",placeholder:"Nome de usu\xe1rio",value:e.username,onChange:i,className:"w-full mb-4 p-2 border border-gray-700 rounded bg-gray-700 text-white",required:!0}),(0,r.jsx)("input",{type:"password",name:"password",placeholder:"Senha",value:e.password,onChange:i,className:"w-full mb-4 p-2 border border-gray-700 rounded bg-gray-700 text-white",required:!0}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600",disabled:a,children:a?"Entrando...":"Entrar"}),l&&(0,r.jsx)("p",{className:"text-red-500 mt-4",children:l}),(0,r.jsxs)("p",{className:"text-gray-400 mt-4 text-center",children:["N\xe3o tem uma conta?"," ",(0,r.jsx)("a",{href:"/",className:"text-blue-500 hover:underline",children:"Cadastre-se"})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(7406)),_N_E=e.O()}]);