(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3792:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>n});var o=t(5155),r=t(2115);function n(){let[e,a]=(0,r.useState)(null),[t,n]=(0,r.useState)(""),[s,l]=(0,r.useState)(""),[i,d]=(0,r.useState)(!1),[c,u]=(0,r.useState)(""),m=async()=>{if(u(""),!e)return void u("Por favor, selecione um arquivo.");if(e.size>5242880)return void u("O arquivo \xe9 muito grande. O limite \xe9 de 5MB.");let a=new FormData;a.append("file",e),d(!0);try{let e=localStorage.getItem("token");if(!e)throw Error("Token de autentica\xe7\xe3o n\xe3o encontrado. Fa\xe7a login novamente.");let t=await fetch("http://localhost:3001/upload",{method:"POST",headers:{Authorization:"Bearer ".concat(e)},body:a});if(!t.ok){let e=await t.json();throw Error(e.message||"Erro ao enviar o arquivo")}let o=await t.json();n(o.extractedText),l(o.document.id)}catch(e){u(e.message||"Erro ao enviar o arquivo. Tente novamente."),console.error("Erro ao enviar o arquivo:",e)}finally{d(!1)}};return(0,o.jsxs)("div",{className:"p-4",children:[(0,o.jsx)("h1",{className:"text-xl mb-4",children:"Upload de Documento"}),(0,o.jsx)("input",{type:"file",onChange:e=>{var t;return a((null==(t=e.target.files)?void 0:t[0])||null)},className:"mb-4"}),(0,o.jsx)("button",{onClick:m,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded",disabled:i,children:i?"Enviando...":"Enviar"}),c&&(0,o.jsx)("p",{className:"text-red-500 mt-4",children:c}),t&&(0,o.jsxs)("div",{className:"mt-6",children:[(0,o.jsx)("h2",{className:"text-lg font-bold",children:"Texto Extra\xeddo:"}),(0,o.jsx)("pre",{className:"whitespace-pre-wrap bg-gray-100 p-2 rounded",children:t})]}),s&&(0,o.jsxs)("div",{className:"mt-4",children:[(0,o.jsx)("h2",{className:"text-lg font-bold",children:"ID do Documento:"}),(0,o.jsx)("p",{className:"bg-gray-100 p-2 rounded",children:s})]})]})}},6329:(e,a,t)=>{Promise.resolve().then(t.bind(t,3792))}},e=>{var a=a=>e(e.s=a);e.O(0,[441,684,358],()=>a(6329)),_N_E=e.O()}]);